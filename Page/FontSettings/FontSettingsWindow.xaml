<Window x:Class="ctxmgr.Page.FontSettings.FontSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ctxmgr.Page.FontSettings"
        mc:Ignorable="d"
        xmlns:props="clr-namespace:ctxmgr.Properties"
        WindowStartupLocation="CenterOwner"
        xmlns:color="clr-namespace:ctxmgr.UserControls.ColorPicker"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="{x:Static props:Resources.FontSettingsWindowTitle}" Height="360" Width="500">

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!--字体列表-->
        <ListBox Grid.Row="0" Grid.RowSpan="3"
                 x:Name="FontsListBox"
                 DisplayMemberPath="Source"
                 SelectedValuePath="Source"
                 SelectedValue="{Binding FontFamily, Mode=TwoWay}" 
                 Margin="5">
            <ListBox.Resources>
                <!-- 改选中背景色 -->
                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="#3399FF"/>
                <!-- 改选中文字颜色 -->
                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="White"/>

            </ListBox.Resources>
            <ListBox.ItemContainerStyle>
                <Style TargetType="{x:Type ListBoxItem}">
                    <!-- 设置默认背景色为透明，避免默认颜色覆盖 -->
                    <Setter Property="Background" Value="Transparent"/>
                    <!-- 设置默认文字颜色 -->
                    <Setter Property="Foreground" Value="Black"/>
                    <Style.Triggers>
                        <!-- 当项被选中时 -->
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="White"/>
                            <!-- 选中项背景色 -->
                            <Setter Property="Foreground" Value="Red"/>
                            <!-- 选中项文字颜色 -->
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </ListBox.ItemContainerStyle>
        </ListBox>
        <!-- 字号选择 -->
        <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="5">
            <TextBlock Text="{x:Static props:Resources.FontSize}" VerticalAlignment="Center"/>
            <ComboBox SelectedItem="{Binding FontSize}"  Width="80" Margin="5,0,0,0">
                <sys:Double>8</sys:Double>
                <sys:Double>9</sys:Double>
                <sys:Double>10</sys:Double>
                <sys:Double>11</sys:Double>
                <sys:Double>12</sys:Double>
                <sys:Double>14</sys:Double>
                <sys:Double>16</sys:Double>
                <sys:Double>18</sys:Double>
                <sys:Double>20</sys:Double>
                <sys:Double>22</sys:Double>
                <sys:Double>24</sys:Double>
                <sys:Double>28</sys:Double>
                <sys:Double>36</sys:Double>
                <sys:Double>48</sys:Double>
                <sys:Double>72</sys:Double>
            </ComboBox>
        </StackPanel>

        <!-- 样式选择 -->
        <StackPanel Grid.Column="1" Grid.Row="1" Orientation="Horizontal" Margin="5">
            <CheckBox Content="{x:Static props:Resources.FontBold}" IsChecked="{Binding IsBold}" Margin="5"/>
            <CheckBox Content="{x:Static props:Resources.FontItalic}" IsChecked="{Binding IsItalic}" Margin="5"/>
            <CheckBox Content="{x:Static props:Resources.FontUnderLine}" IsChecked="{Binding IsUnderline}" Margin="5"/>
        </StackPanel>

        <!-- 颜色选择 -->
        <color:ColorPickerControl  Grid.Column="1" Grid.Row="2" x:Name="BgColorPicker" Margin="10" Height="150" Width="220"/>

        <!-- 预览-->
        <Border Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="3" Margin="5"
                BorderBrush="Gray" BorderThickness="1" Padding="10">
            <TextBlock Text="{x:Static props:Resources.FontPreview}"
                       FontSize="{Binding FontSize}"
                       Foreground="{Binding SelectedColor}" 
                       FontFamily="{Binding FontFamily}"
                           >
                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Setter Property="FontWeight" Value="Normal" />
                        <Setter Property="FontStyle" Value="Normal" />
                        <Setter Property="TextDecorations" Value="{x:Null}" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsBold}" Value="True">
                                <Setter Property="FontWeight" Value="Bold" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsItalic}" Value="True">
                                <Setter Property="FontStyle" Value="Italic" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsUnderline}" Value="True">
                                <Setter Property="TextDecorations" Value="Underline" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>
        </Border>
    </Grid>

</Window>
